{{template "header" .}}

        <title>分类 - 「一个·轻博客」</title>

</head>

<body style="background-color: #fff;" class="post-template-default single single-post postid-21 single-format-standard">
<noscript>请启用您浏览器的 JavaScript 选项！</noscript>
        
        <div class="container">
            <h2>分类列表</h2>
            <form class="form-inline" method="GET" action="/category">
                <div class="form-group">
                    <input id="name" type="text" class="form-control" name="name" placeholder="Enter category name">
                    <input type="hidden" name="op" value="add">
                </div>
                <button type="submit" class="btn btn-default" onclick="return checkInput();">添加分类</button>
            </form>
            <script type="text/javascript">
                function checkInput() {
                    var uname = document.getElementById("name");
                    if (uname.value.length == 0) {
                        alert("请输入分类名称");
                        return false;
                    }
                }
            </script>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>分类名称</th>
                        <th>文章数</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    {{range .Categories}}
                    <tr>
                        <th>{{.Id}}</th>
                        <th><a href="/?cate={{.Title}}">{{.Title}}</a></th>
                        <th>{{.TopicCount}}</th>
                        <th>
                            <a href="/category?op=del&id={{.Id}}">删除</a>
                        </th>
                    </tr>
                    {{end}}
                </tbody>
            </table>
        </div>

        <!--  下面的两个JS可能加载 不出来，导致有些布局不能使用，在此添加一遍-->
        <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.1.1/jquery.min.js"></script>
        <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
    </body>
</html>
